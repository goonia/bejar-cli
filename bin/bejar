#!/usr/bin/env ruby
require 'bejar'
require 'thor'

class Bejarcli < Thor

  desc "init", "init a bejar project"
  def init(project)

    if File.exist? project
      puts "#{project} directory currently exists."
    else
      Dir.mkdir(project)
      puts "Project inited"
      Dir.chdir(Dir.pwd + "/#{project}") do
        system("git clone git@github.com:goonia/bejar.git .")
        puts "project cloned"
        system("rm -rf .git/")
      end
    end

  end

  desc "up", "start webserver"
  def up
    system("rackup -p 2048")
  end

end

Bejarcli.start(ARGV)
